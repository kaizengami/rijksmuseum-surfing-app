!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0),n(1),n(2);n(3),n(4);var o={filters:{keyword:"",maker:"",type:"",material:""},page:0,cardsPerPage:10,totalCards:null,favorites:[]};let r=[];class a{constructor(e){this.id=e.objectNumber,this.headerImage=e.headerImage.url,this.longTitle=e.longTitle}}const s=async()=>{const e=await(async()=>{const e=`https://www.rijksmuseum.nl/api/en/collection?key=0zZyVckt&format=json&p=${o.page}&ps=${o.cardsPerPage}&q=${o.filters.keyword}&maker=${o.filters.maker}&type=${o.filters.type}&material=${o.filters.material}`;console.log(e);try{const t=await fetch(e);if(!t.ok)throw new Error(t.statusText);let n=await t.json();return o.totalCards=n.count,n.artObjects}catch(e){return e}})();return r=e.map(e=>new a(e))};n(5);var i=()=>{const e=(()=>{o.totalCards;let e,t,n=o.cardsPerPage,r=o.page,a=Math.ceil(9999/n);return r<3&&(e="pagination-start",t=[r,r+1,r+2,a-1]),r>3&&r<a-2&&(e="pagination-middle",t=[0,r-1,r,r+1,a-1]),r>996&&(e="pagination-end",t=[0,a-3,a-2,a-1]),((e,t)=>{switch(e){case"pagination-start":return`<div class="pagination">\n                <a href="#${t[0]}">${t[0]+1}</a>\n                <a href="#${t[1]}">${t[1]+1}</a>\n                <a href="#${t[2]}">${t[2]+1}</a>\n                <span>...</span>\n                <a href="#${t[3]}">${t[3]+1}</a>\n              </div>`;case"pagination-middle":return`<div class="pagination">\n                <a href="#${t[0]}">${t[0]+1}</a>\n                <span>...</span>\n                <a href="#${t[1]}">${t[1]+1}</a>\n                <a href="#${t[2]}">${t[2]+1}</a>\n                <a href="#${t[3]}">${t[3]+1}</a>\n                <span>...</span>\n                <a href="#${t[4]}">${t[4]+1}</a>\n              </div>`;case"pagination-end":return`<div class="pagination">\n                <a href="#${t[0]}">${t[0]+1}</a>\n                <span>...</span>\n                <a href="#${t[1]}">${t[1]+1}</a>\n                <a href="#${t[2]}">${t[2]+1}</a>\n                <a href="#${t[3]}">${t[3]+1}</a>\n              </div>`}})(e,t)})();document.querySelector(".cards-footer").insertAdjacentHTML("beforeend",e),document.querySelector(".pagination").addEventListener("click",e=>{const t=e.target.closest("a");null!==t&&(o.page=parseInt(t.getAttribute("href").replace("#","")),D())})};n(6);var c=async()=>{document.querySelector(".cards-footer").insertAdjacentHTML("beforeend",'<div class="cards-per-page">\n                <button value="10">10</button>\n                <button value="50">50</buttona>\n                <button value="100">100</button>\n            </div>'),setTimeout(()=>{document.querySelector(".cards-per-page").addEventListener("click",e=>{const t=e.target.closest("button");null!==t&&(o.cardsPerPage=t.value,o.currentPage=0,D())})},100)};var l=async()=>{await s(),0===r.length?F():(Q(),G(),i(),c())};n(7);let d=[];class u{constructor(e){this.title=e.title,this.description=e.description,this.imageUrl=e.webImage.url,this.makerLine=e.label.makerLine,this.physicalMedium=e.physicalMedium,this.documentation=e.documentation,this.category=e.objectCollection,this.tags=e.objectTypes,this.objectNumber=e.objectNumber}}const p=async e=>{const t=await(async e=>{const t=`https://www.rijksmuseum.nl/api/en/collection/${e}?key=0zZyVckt&format=json`;try{const e=await fetch(t);if(!e.ok)throw new Error(e.statusText);return(await e.json()).artObject}catch(e){return e}})(e);return d=new u(t)};n(8),n(9);const v=e=>e.map(e=>(e=>`<a href="#${e}">${e}</a>`)(e)).join(""),m=()=>'<div id="favorites-page">'+o.favorites.map(e=>(e=>{const{title:t,imageUrl:n,description:o,makerLine:r,physicalMedium:a}=e;return`<section class="favorite-page">\n                  <button class="pop-up-favorite \n                    ${f(e.objectNumber)?"favorite-active":""}" \n                    value="favorite">\n                      ❤\n                  </button>\n                  <h1>${t}</h1>\n                  <div class="pop-up-row padding-bottom-20">\n                      <img src="${n}">\n                      <div class="pop-up-description">${o}</div>\n                  </div>\n                  <section class="more-details">\n                    <div class="pop-up-row">\n                      <span>Maker line:</span>\n                      <div class="maker-line">${r}</div>\n                    </div>\n                    <div class="pop-up-row">\n                      <span>Physical medium:</span>\n                      <div class="physical-medium">${a}</div>\n                    </div>\n                    <div class="pop-up-row">\n                      <span>Category:</span>\n                      <div class="category">${v(e.category)}</div>\n                    </div>\n                    <div class="pop-up-row">\n                      <span>Tags:</span>\n                      <div class="tags">${v(e.tags)}</div>\n                    </div>\n                  </section>\n              </section>`})(e)).join("")+"</div>",f=e=>{for(let t of o.favorites)if(e===t.objectNumber)return!0;return!1};var y=()=>{const e=m(o.favorites),t=document.querySelector(".dark-layer");(()=>{const e=document.querySelector(".pop-up");e&&e.remove()})(),document.querySelector(".filters-container").classList.remove("filters-container-disable"),t.classList.remove("dark-layer-visible"),document.querySelector(".cards-list").innerHTML=e};const g=()=>h()?"":'<button id="show-favorites">Show favorites</button>',b=()=>{document.getElementById("favorite-list-items").innerHTML=(()=>o.favorites.map(e=>(e=>{const{objectNumber:t,title:n}=e;return`<div class="favorite-item" id="fav-${t}">\n            <div class="favorite-id">${n}...</div>\n            <div class="icon-trash"></div>\n          </div>`})(e)).join("")+g())()},h=()=>0===o.favorites.length,$=()=>{document.getElementById("favorite-list").classList.add("favorite-list-visible")},w=()=>{document.getElementById("favorite-list").classList.remove("favorite-list-visible")},k=e=>{o.favorites.forEach((t,n)=>{if(t.objectNumber===e)return o.favorites.splice(n,1)})},L=()=>{document.getElementById("favorite-list").addEventListener("click",e=>{const t=e.target,n=t.closest(".favorite-id"),r=t.closest(".icon-trash"),a=t.closest(".icon-heart"),s=t.closest("#show-favorites");a&&document.getElementById("favorite-list").classList.toggle("favorite-list-show"),n&&console.log("listItem"),r&&(e=>{const t=e.closest(".favorite-item").id.replace("fav-","");k(t),b(),P()})(t),s&&(console.log(o.favorites),y())})};let S={};const j=e=>e.map(e=>(e=>`<a href="#${e}">${e}</a>`)(e)).join(""),q=async e=>{return(e=>{S=e,console.log(S);const{title:t,imageUrl:n,description:o,makerLine:r,physicalMedium:a}=e;return`<section class="pop-up">\n                <button class="pop-up-back" value="back">←</button>\n                <button class="pop-up-favorite \n                  ${A(S.objectNumber)?"favorite-active":""}" \n                  value="favorite">\n                    ❤\n                </button>\n                <h1>${t}</h1>\n                <div class="pop-up-row padding-bottom-20">\n                    <img src="${n}">\n                    <div class="pop-up-description">${o}</div>\n                </div>\n                <section class="more-details">\n                  <div class="pop-up-row pop-up-row-hidden">\n                    <span>Maker line:</span>\n                    <div class="maker-line">${r}</div>\n                  </div>\n                  <div class="pop-up-row pop-up-row-hidden">\n                    <span>Physical medium:</span>\n                    <div class="physical-medium">${a}</div>\n                  </div>\n                  <div class="pop-up-row pop-up-row-hidden">\n                    <span>Category:</span>\n                    <div class="category">${j(e.category)}</div>\n                  </div>\n                  <div class="pop-up-row pop-up-row-hidden">\n                    <span>Tags:</span>\n                    <div class="tags">${j(e.tags)}</div>\n                  </div>\n                </section>\n                <div class="pop-up-row space-around">\n                    <button class="pop-up-view-more" value="view_more">View more details</button>\n                    <button class="pop-up-close" value="close">Close</button>\n                </div>\n            </section>`})(await p(e))},E=()=>{document.querySelector(".pop-up").classList.toggle("pop-up-visible")},T=()=>{document.querySelectorAll(".pop-up button").forEach(e=>{e.addEventListener("click",e=>{switch(e.target.value){case"back":B();break;case"favorite":M(),h()?w():$(),b();break;case"view_more":x();break;case"close":H(e)}})})},M=()=>{P(),A(S.objectNumber)?(console.log("in favorite"),I(S.objectNumber),console.log(o.favorites)):(console.log("not in favorite"),o.favorites.push(S),console.log(o.favorites))},A=e=>{for(let t of o.favorites)if(e===t.objectNumber)return!0;return!1},I=e=>{o.favorites.forEach((t,n)=>{if(t.objectNumber===e)return o.favorites.splice(n,1)})},P=()=>{document.querySelector(".pop-up-favorite").classList.toggle("favorite-active")},x=()=>{N()},N=()=>{const e=document.querySelector(".pop-up"),t=document.querySelector(".pop-up-back"),n=document.querySelector(".pop-up-view-more"),o=document.querySelector(".pop-up-close"),r=document.querySelectorAll(".more-details .pop-up-row-hidden");e.classList.add("pop-up-more-details"),t.classList.add("pop-up-back-visible"),n.classList.add("button-hide"),o.classList.add("button-hide"),O(),r.forEach(e=>{e.classList.remove("pop-up-row-hidden")})},O=()=>{document.querySelector("main").classList.toggle("main-hide")},H=e=>{const t=e.target.closest(".pop-up"),n=document.getElementById(d.objectNumber);V(n),E(),t.addEventListener("transitionend",()=>{t.remove()})},B=()=>{const e=document.querySelector(".pop-up"),t=document.getElementById(d.objectNumber);V(t),O(),E(),e.addEventListener("transitionend",()=>{e.remove()})},_=e=>{const t=document.querySelector(".pop-up"),n=document.querySelector(".dark-layer"),r=document.querySelector(".filters-container");o.filters.keyword=e.getAttribute("href").replace("#",""),n.classList.remove("dark-layer-visible"),r.classList.remove("filters-container-disable"),t.remove(),O(),D()},C=async e=>{const t=await q(e);document.querySelector(".main").insertAdjacentHTML("afterend",t),T(),document.querySelector(".more-details").addEventListener("click",e=>{if("a"===e.target.tagName.toLowerCase()){let t=e.target,n=e.target.closest("div");n.classList.contains("category")&&_(t),n.classList.contains("tags")&&_(t)}}),setTimeout(()=>{E()},50)},U=e=>`<footer class="cards-footer" style="transform: translateY(${e+200}px);">\n            <div class="api-credit">\n            <a href="https://www.rijksmuseum.nl/en/api/terms-and-conditions-of-use" target="_blank">\n              App was developed using the Rijksmuseum API\n            </a>\n            </div>\n          </footer>`,V=e=>{z(e),R(e.id),Y()},z=e=>{const[t]=document.querySelectorAll(`[id='${e.id}'] .long-title`);Z(e),t.classList.toggle("long-title-selected")},Z=e=>{const t=`${e.style.transform.replace(/[^0-9\-.,]/g,"").split(",")[1]/2-250}px`;e.style.setProperty("--card-selected-y",t),e.classList.toggle("card-selected"),console.log(e)},R=e=>{const t=document.querySelector(".filters-container"),n=document.querySelector(".cards-list"),o=document.querySelectorAll(".card");document.querySelector(".dark-layer").classList.toggle("dark-layer-visible"),t.classList.toggle("filters-container-disable"),n.classList.toggle("cards-list-transform"),o.forEach(t=>{t.id!=e&&t.classList.toggle("card-not-selected")})},Y=()=>{document.querySelector(".cards-footer").classList.toggle("cards-list-footer-hide")},D=()=>{document.querySelector(".cards-list").remove(),setTimeout(()=>{l()},500)},F=()=>{document.querySelector(".main").insertAdjacentHTML("beforeend",'<div class="cards-list">\n                      <div class="cards-not-found">\n                        No art object could be found by your query\n                      </div>\n                    </div>')},G=()=>{const e=(()=>{const e=(e=>{const t=[];let n=0,o=-200;for(let r=0;r<e.length;r++)r%2?n+=540:(o+=200,n=0),t.push({x:n,y:o});return t})(r),t=e[e.length-1];return'<div class="cards-list">'+e.map((e,t)=>((e,{x:t,y:n})=>{const{id:o,headerImage:r,longTitle:a}=e;return`<div class="card" id="${o}" style="transform: translate(${t}px, ${n}px);">\n            <div class="header-image" style="background-image: url('${r}')"></div>\n            <div class="long-title">${a}</div>\n        </div>`})(r[t],e)).join("")+U(t.y)+"</div>"})();document.querySelector(".main").insertAdjacentHTML("beforeend",e),document.querySelector(".cards-list").addEventListener("click",e=>{const t=e.target.closest(".card");null!==t&&(V(t),C(t.id))})},J=()=>{const e=document.querySelectorAll(".filters-container input");let t=!0;return e.forEach(e=>{""!=e.value&&(t=!1)}),t},K=()=>{Object.keys(o.filters).forEach(e=>{const t=document.querySelector(`.filters-container input[name="${e}"]`);""!=o.filters[e]&&"keyword"!=e?t.classList.add("sorting-buttons-active"):t.classList.remove("sorting-buttons-active")})},Q=()=>{Object.keys(o.filters).forEach(e=>{document.querySelector(`.filters-container input[name="${e}"]`).value=o.filters[e]})};document.querySelector(".main").insertAdjacentHTML("beforeend",'<div class="dark-layer"></div>'),document.querySelector(".main").insertAdjacentHTML("beforeend",'<div class="filters-container">\n                <input id="search" name="keyword" autocomplete="off" type="text" placeholder="Search keyword...">\n                <div class="sorting-buttons">\n                    <input id="input-maker" name="maker" class="input-filter" type="text" autocomplete="nope" placeholder="Maker">\n                    <input id="input-type" name="type" class="input-filter" type="text" autocomplete="nope" placeholder="Type">\n                    <input id="input-material" name="material" class="input-filter" type="text" autocomplete="nope" placeholder="Material">\n                </div>\n                <button id="search-button" value="Search">Search</button>\n            </div>'),Q(),(()=>{const e=document.querySelectorAll(".filters-container input"),t=document.getElementById("search-button");e.forEach(e=>{e.addEventListener("input",()=>{J()?t.classList.remove("search-button-visible"):t.classList.add("search-button-visible")})})})(),(()=>{const e=document.getElementById("search-button"),t=document.querySelectorAll(".filters-container input");e.addEventListener("click",()=>{t.forEach(e=>{switch(e.name){case"keyword":o.filters.keyword=e.value;break;case"maker":o.filters.maker=e.value;break;case"type":o.filters.type=e.value;break;case"material":o.filters.material=e.value}}),o.page=0,D(),K()})})(),l(),document.querySelector(".main").insertAdjacentHTML("beforeend",(()=>`<div id="favorite-list" class="${h()?"":"favorite-list-visible"}">\n            <div id="favorite-list-items"></div>\n            <div id="favorite-list-line">I<br>I</div>\n            <div id="favorite-heart">\n              <div class="icon-heart"><span>♥</span></div>\n            </div>\n          </div>`)()),b(),L()}]);